.. _modifyController:

コントローラの形状を変更する
=======================================
モジュラーリギングによって作成されたコントローラはジョイントの大きさに
合わせて自動的に作成されますが、キャラクタのプロポーションによっては
コントローラが埋まってしまったり大きすぎたりすることがあります。


その場合、アニメータが触りやすいように形状を変更しましょう。
コントローラはNURBSカーブなので、通常のコンポーネント編集と
同じ方法で変更できます。


各部のコントローラのコンポーネントを修正する
--------------------------------------------------
まずはデフォルトで作成されたコントローラの大きさや形を変更してみましょう。


.. image:: ../img/quickStart_factory/031.png
    :width: 400

例えば腕のIKコントローラがこのようにめり込んでいるので、
大きさを変えて変更してみます。

.. image:: ../img/quickStart_factory/032.png
    :width: 400

形状修正が終わったら、左腕のコントローラの変形を右側にも適応します。


コントローラの形状修正についてはFactoryの機能リストからCtrlExporterを選択し、
EditCurvesタブを使用します。
左手のIKコントローラを選択してからMirrorCurvesセクションの
ミラーボタンを押して反対側にも適応します。

.. image:: ../img/quickStart_factory/033.png
    :width: 400


プリセットの形状に変更する
--------------------------------------------------
コントローラについてはコンポーネントを編集して変更する以外にもプリセットの
形状に変更する方法もあります。
頭部のコントローラが頭にめり込んで外からはまったく見えないので、
形状と大きさを変更してみます。

.. image:: ../img/quickStart_factory/034.png
    :width: 400


頭部のコントローラ（head_ctrl_C）を選択したあとに、CtrlExporterのGUI内の
左のプリセットリストからArrowFourを選択し、
CreateOptionを適当な値に設定してからReplace Shapeボタンを押します。

.. image:: ../img/quickStart_factory/035.png
    :width: 400

すると頭部のコントローラの形状が変わりました。



コントローラを書き出す
--------------------------------------------------
上記のような手順を繰り返し、コントローラ全体の形状を整えていきます。

形状の修正が終わったらコントローラ形状を書き出します。

.. image:: ../img/quickStart_factory/036.png
    :width: 400

書き出すにはまずは書き出したいコントローラを選択し、
CtrlExporterのExportCurveタブのブラウザのGUIを出します。
続いてBasenameにコントローラの内容がわかるような名前を入力してから
Exportボタンで書き出します。
